<div class="container">
  <div class="summary-section">
    <div class="row">
      <div class="col-sm-6 col-md-4">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <div class="text-uppercase">
                  <small class="font-weight-bold sibasi-secondary">
                  Total
                  </small>
                </div>

                <div class="h5 font-weight-bold">
                  {{employeeSummary?.numOfEmployees || '--'}}
                </div>
              </div>
              <div class="col text-right icon-dashboard-container">
                
                <i
                
                ></i>
              </div>
            </div>

            <div class="text-muted">Employees </div>
          </div>
        </div>
      </div>

      <div class="col-sm-6  col-md-4 ">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <div class="text-uppercase">
                  <small class="font-weight-bold sibasi-secondary">
                   ToTal
                  </small>
                </div>

                <div class="h5 font-weight-bold">
                  {{employeeSummary?.employeesInOffice || '--'}}
                </div>
              </div>
              <div class="col text-right icon-dashboard-container">
                <i
               
                ></i>
              </div>
            </div>

            <div class="text-muted"> Employees in Office</div>
          </div>
        </div>
      </div>
       <div class="col-sm-6 col-md-4">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col">
                <div class="text-uppercase">
                  <small class="font-weight-bold sibasi-secondary">
                    Total
                  </small>
                </div>

                <div class="h5 font-weight-bold">
                  {{employeeSummary?.employeesOnLeave || '--'  }}
                 </div>
              </div>
              <div class="col text-right icon-dashboard-container">
             

                <i
               
                ></i>
              </div>
            </div>

            <div class="text-muted">Employees on Leave</div>
          </div>
        </div>
      </div>


    </div>
  </div>
  
   
     
      <div class="col-12 col-md-12">
        <h6>New Leave Requests</h6>
        <p-table 
        [value]="leaveRequests$| async"
        responsiveLayout="scroll"
        [paginator]="true"
        [rows]="5"
        >
          <ng-template pTemplate="New Leave Requests">
            <tr>
              <th
                *ngFor="let column of leaveTableColumns"
                [pSortableColumn]="column">
                {{ column }}
                <p-sortIcon [field]="column"></p-sortIcon>
              </th>
              <th></th>
            </tr>
          </ng-template>
            
                    <ng-template pTemplate="body" let-leave  let-columns="columns">
                        <tr>
                          <td>{{leave?.appliedBy?.firstName}} {{leave?.appliedBy?.lastName}}</td>

                            <td>{{leave?.typeOfLeave?.leaveType}}</td>
                            <td>{{leave?.requested}}</td>
                            <td>{{leave?.startDate|date}}</td>
                            <td>{{leave?.endDate| date}}</td>
                            <td>{{leave?.status}}</td>
                            <td class=" ">
  
                              <div *ngIf="leave?.status == 'PENDING'">
                           <div class="d-flex  pt-1">
                                <button
                                  pButton
                                  type="button"
                                  label="View"
                                  class="mr-1"
                                  (click)="onView(leave?._id)"
                                
                                ></button>
                
                                <button
                                  pButton
                                  type="button"
                                  label="Edit"
                                  class="p-button-success mr-1" 
                                  (click)="onEditBtnClick(leave?._id) "
                                  >
                                  
                                </button>
                
                                <button
                                  pButton
                                  type="button"
                                  pRipple
                                  label="Delete"
                                  class="p-button-danger mr-1"
                                  (click)="onDeleteleave(leave?._id)"
                               
                                ></button>
                               
                              </div>
                              </div> 
                            </td>
                            
                        </tr>
                    </ng-template>
                </p-table> 
    
       </div>
       <div class="col-12  col-md-12 ">
     
            <h6>Pending Leaves</h6>
            <p-table
             [value]="pendingleaves$| async"
             [paginator]="true"
            responsiveLayout="scroll"
            [rows]="5"
            >
              <ng-template pTemplate="Pending Leaves">
                <tr>
                  <th
                    *ngFor="let column of leaveTableColumns"
                    [pSortableColumn]="column">
                    {{ column }}
                    <p-sortIcon [field]="column"></p-sortIcon>
                  </th>
                  <th></th>
                </tr>
              </ng-template>
                
                        <ng-template pTemplate="body" let-leave  let-columns="columns">
                            <tr>
                              <td>{{leave?.appliedBy?.firstName}} {{leave?.appliedBy?.lastName}}</td>
      
                                <td>{{leave?.typeOfLeave?.leaveType}}</td>
                                <td>{{leave?.requested}}</td>
                                <td>{{leave?.startDate|date}}</td>
                                <td>{{leave?.endDate| date}}</td>
                                <td>{{leave?.status}}</td>
                                <td class=" ">
      
                                  <div *ngIf="leave?.status == 'PENDING'">
                               <div class="d-flex  pt-1">
                                    <button
                                      pButton
                                      type="button"
                                      label="View"
                                      class="mr-1"
                                      (click)="onView(leave?._id)"
                                    
                                    ></button>
                    
                                    <button
                                      pButton
                                      type="button"
                                      label="Edit"
                                      class="p-button-success mr-1" 
                                      (click)="onEditBtnClick(leave?._id) "
                                      >
                                      
                                    </button>
                    
                                    <button
                                      pButton
                                      type="button"
                                      pRipple
                                      label="Delete"
                                      class="p-button-danger mr-1"
                                      (click)="onDeleteleave(leave?._id)"
                                   
                                    ></button>
                                   
                                  </div>
                                  </div> 
                                </td>
                                
                            </tr>
                        </ng-template>
                    </p-table> 
        
     
  
  
  </div>
</div>

